!function(t){"use strict";function n(n){this.options=t.extend({},t.i18n.parser.defaults,n),this.language=t.i18n.languages[String.locale]||t.i18n.languages.default,this.emitter=t.i18n.parser.emitter}n.prototype={constructor:n,simpleParse:function(n,u){return n.replace(/\$(\d+)/g,function(n,r){var t=parseInt(r,10)-1;return void 0!==u[t]?u[t]:"$"+r})},parse:function(n,r){return n.indexOf("{{")<0?this.simpleParse(n,r):(this.emitter.language=t.i18n.languages[t.i18n().locale]||t.i18n.languages.default,this.emitter.emit(this.ast(n),r))},ast:function(u){var r,t,l,e,i,a,o,c,f,s,g,v,h,n,p,d,m,$=0;function x(t){return function(){for(var n,r=0;r<t.length;r++)if(null!==(n=t[r]()))return n;return null}}function C(n){for(var r,t=$,u=[],l=0;l<n.length;l++){if(null===(r=n[l]()))return $=t,null;u.push(r)}return u}function A(u,l){return function(){for(var n=$,r=[],t=l();null!==t;)r.push(t),t=l();return r.length<u?($=n,null):r}}function P(r){var t=r.length;return function(){var n=null;return u.slice($,$+t)===r&&(n=r,$+=t),n}}function j(r){return function(){var n=u.slice($).match(r);return null===n?null:($+=n[0].length,n[0])}}function w(){var n=C([l,e]);return null===n?null:n[1]}function E(){var n=C([i,a]);return null===n?null:["REPLACE",parseInt(n[1],10)-1]}function O(){var n=C([r,A(0,h)]);return null===n?null:1<(n=n[1]).length?["CONCAT"].concat(n):n[0]}function S(){var n=C([s,t,E]);return null===n?null:[n[0],n[2]]}function y(){var n=C([s,t,h]);return null===n?null:[n[0],n[2]]}function F(){var n=C([g,f,v]);return null===n?null:n[1]}if(r=P("|"),t=P(":"),l=P("\\"),e=j(/^./),i=P("$"),a=j(/^\d+/),m=j(/^[^{}[\]$\\]/),n=j(/^[^{}[\]$\\|]/),x([w,j(/^[^{}[\]$\s]/)]),o=x([w,n]),c=x([w,m]),p=j(/^[ !"$&'()*,./0-9;=?@A-Z^_`a-z~\x80-\xFF+-]+/),d=function(n){return n.toString()},s=function(){var n=p();return null===n?null:d(n)},f=x([function(){var n=C([x([S,y]),A(0,O)]);return null===n?null:n[0].concat(n[1])},function(){var n=C([s,A(0,O)]);return null===n?null:[n[0]].concat(n[1])}]),g=P("{{"),v=P("}}"),n=x([F,E,function(){var n=A(1,c)();return null===n?null:n.join("")}]),h=x([F,E,function(){var n=A(1,o)();return null===n?null:n.join("")}]),null===(n=null===(m=A(0,n)())?null:["CONCAT"].concat(m))||$!==u.length)throw new Error("Parse error at position "+$.toString()+" in input: "+u);return n}},t.extend(t.i18n.parser,new n)}(jQuery);